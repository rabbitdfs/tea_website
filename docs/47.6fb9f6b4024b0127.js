"use strict";(self.webpackChunktea_website=self.webpackChunktea_website||[]).push([[47],{4047:(P,f,d)=>{d.r(f),d.d(f,{OrderModule:()=>B});var _=d(6814),p=d(594),Z=d(8645),v=d(9773),o=d(95);class c{static nameValidator(l){return/[A-Z\u0410-\u042f][a-z\u0430-\u044f]+$/.test(l.value)?null:{name:{value:l.value}}}static phoneValidator(l){return/^(\+?\d{11}|\d{10})$/.test(l.value)?null:{phone:{value:l.value}}}static addressValidator(l){return/^[a-zA-Z0-9\s/-]*$/.test(l.value)?null:{address:{value:l.value}}}static zipValidator(l){return/^\d{5}(?:[-\s]\d{4})?$/.test(l.value)?null:{zip:{value:l.value}}}}var u=d(9468),x=d(6595);function h(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f "),u.qZA())}function A(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0418\u043c\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function T(e,l){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,h,2,0,"div",21),u.YNc(2,A,2,0,"div",21),u.qZA()),2&e){const t=u.oxw(2);let r,n;u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("name"))||null==r.errors?null:r.errors.required),u.xp6(1),u.Q6J("ngIf",(null==(n=t.formValues.get("name"))||null==n.errors?null:n.errors.name)&&(null==(n=t.formValues.get("name"))?null:n.value))}}function C(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e "),u.qZA())}function V(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function O(e,l){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,C,2,0,"div",21),u.YNc(2,V,2,0,"div",21),u.qZA()),2&e){const t=u.oxw(2);let r,n;u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("lastname"))||null==r.errors?null:r.errors.required),u.xp6(1),u.Q6J("ngIf",(null==(n=t.formValues.get("lastname"))||null==n.errors?null:n.errors.name)&&(null==(n=t.formValues.get("lastname"))?null:n.value))}}function q(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 "),u.qZA())}function y(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function b(e,l){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,q,2,0,"div",21),u.YNc(2,y,2,0,"div",21),u.qZA()),2&e){const t=u.oxw(2);let r,n;u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("phone"))||null==r.errors?null:r.errors.required),u.xp6(1),u.Q6J("ngIf",(null==(n=t.formValues.get("phone"))||null==n.errors?null:n.errors.phone)&&(null==(n=t.formValues.get("phone"))?null:n.value))}}function F(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 "),u.qZA())}function D(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441 "),u.qZA())}function U(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0418\u043d\u0434\u0435\u043a\u0441 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function E(e,l){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,D,2,0,"div",21),u.YNc(2,U,2,0,"div",21),u.qZA()),2&e){const t=u.oxw(2);let r,n;u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("zip"))||null==r.errors?null:r.errors.required),u.xp6(1),u.Q6J("ngIf",(null==(n=t.formValues.get("zip"))||null==n.errors?null:n.errors.zip)&&(null==(n=t.formValues.get("zip"))?null:n.value))}}function I(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 "),u.qZA())}function N(e,l){1&e&&(u.TgZ(0,"div",30),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e "),u.qZA())}function J(e,l){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,I,2,0,"div",21),u.YNc(2,N,2,0,"div",21),u.qZA()),2&e){const t=u.oxw(2);let r,n;u.xp6(1),u.Q6J("ngIf",null==(r=t.formValues.get("address"))||null==r.errors?null:r.errors.required),u.xp6(1),u.Q6J("ngIf",(null==(n=t.formValues.get("address"))||null==n.errors?null:n.errors.address)&&(null==(n=t.formValues.get("address"))?null:n.value))}}function Y(e,l){1&e&&(u.TgZ(0,"span",31),u._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA())}function z(e,l){if(1&e){const t=u.EpF();u.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),u._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.TgZ(4,"form",5)(5,"div",6)(6,"div",7)(7,"label",8),u._uU(8,"\u0418\u043c\u044f"),u.qZA(),u._UZ(9,"input",9),u.YNc(10,T,3,2,"div",10),u.qZA(),u.TgZ(11,"div",7)(12,"label",11),u._uU(13,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(14,"input",12),u.YNc(15,O,3,2,"div",10),u.qZA(),u.TgZ(16,"div",7)(17,"label",13),u._uU(18,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(19,"input",14),u.YNc(20,b,3,2,"div",10),u.qZA(),u.TgZ(21,"div",7)(22,"label",13),u._uU(23,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(24,"input",15),u.qZA(),u.TgZ(25,"div",16)(26,"label",13),u._uU(27,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(28,"input",17),u.qZA(),u.TgZ(29,"div",18)(30,"label",19),u._uU(31,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(32,"input",20),u.YNc(33,F,2,0,"div",21),u.qZA(),u.TgZ(34,"div",18)(35,"label",22),u._uU(36,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(37,"input",23),u.YNc(38,E,3,2,"div",10),u.qZA(),u.TgZ(39,"div",24)(40,"label",25),u._uU(41,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(42,"input",26),u.YNc(43,J,3,2,"div",10),u.qZA()(),u.TgZ(44,"div",27)(45,"button",28),u.NdJ("click",function(){u.CHM(t);const n=u.oxw();return u.KtG(n.createOrder())}),u._uU(46,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA(),u.YNc(47,Y,2,0,"span",29),u.qZA()()()()}if(2&e){const t=u.oxw();let r,n,i,a,m,s;u.xp6(4),u.Q6J("formGroup",t.formValues),u.xp6(6),u.Q6J("ngIf",(null==(r=t.formValues.get("name"))?null:r.invalid)&&((null==(r=t.formValues.get("name"))?null:r.touched)||(null==(r=t.formValues.get("name"))?null:r.dirty))),u.xp6(5),u.Q6J("ngIf",(null==(n=t.formValues.get("lastname"))?null:n.invalid)&&((null==(n=t.formValues.get("lastname"))?null:n.touched)||(null==(n=t.formValues.get("lastname"))?null:n.dirty))),u.xp6(5),u.Q6J("ngIf",(null==(i=t.formValues.get("phone"))?null:i.invalid)&&((null==(i=t.formValues.get("phone"))?null:i.touched)||(null==(i=t.formValues.get("phone"))?null:i.dirty))),u.xp6(13),u.Q6J("ngIf",(null==(a=t.formValues.get("country"))?null:a.invalid)&&((null==(a=t.formValues.get("country"))?null:a.touched)||(null==(a=t.formValues.get("country"))?null:a.dirty))&&(null==(a=t.formValues.get("country"))||null==a.errors?null:a.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(m=t.formValues.get("zip"))?null:m.invalid)&&((null==(m=t.formValues.get("zip"))?null:m.touched)||(null==(m=t.formValues.get("zip"))?null:m.dirty))),u.xp6(5),u.Q6J("ngIf",(null==(s=t.formValues.get("address"))?null:s.invalid)&&((null==(s=t.formValues.get("address"))?null:s.touched)||(null==(s=t.formValues.get("address"))?null:s.dirty))),u.xp6(4),u.Q6J("ngIf",t.orderError)}}function Q(e,l){1&e&&(u.TgZ(0,"div",32)(1,"h1",33),u._uU(2,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA()())}const M=[{path:"",component:(()=>{var e;class l{constructor(r,n,i){this.activatedRoute=r,this.productService=n,this.fb=i,this.completeOrder=!1,this.orderError=!1,this.$onDestroy=new Z.x,this.formValues=this.fb.group({name:["",[o.kI.required,c.nameValidator]],lastname:["",[o.kI.required,c.nameValidator]],phone:["",[o.kI.required,c.phoneValidator]],productTitle:[""],comment:[""],country:["",o.kI.required],zip:["",[o.kI.required,c.zipValidator]],address:["",[o.kI.required,c.addressValidator]]})}ngOnInit(){this.formValues.get("productTitle")?.disable(),this.activatedRoute.queryParams.pipe((0,v.R)(this.$onDestroy)).subscribe(r=>{r.product&&this.formValues.patchValue({productTitle:r.product})})}ngOnDestroy(){this.$onDestroy.next(),this.$onDestroy.complete()}createOrder(){if(this.formValues.get("productTitle")?.enable(),this.formValues.invalid)return this.formValues.get("productTitle")?.disable(),this.markFormGroupAsTouched(this.formValues),void alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f, \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u043a\u0440\u0430\u0441\u043d\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c");const r=this.formValues.value;this.productService.createOrder({name:r.name,last_name:r.lastname,phone:r.phone,country:r.country,zip:r.zip,product:r.productTitle,address:r.address,comment:r.comment||null}).pipe((0,v.R)(this.$onDestroy)).subscribe(i=>{i.success&&!i.error?(this.completeOrder=!0,this.formValues.reset()):this.orderError=!0})}markFormGroupAsTouched(r){Object.values(r.controls).forEach(n=>{n instanceof o.cw?this.markFormGroupAsTouched(n):n.markAsTouched()})}}return(e=l).\u0275fac=function(r){return new(r||e)(u.Y36(p.gz),u.Y36(x.M),u.Y36(o.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-order"]],decls:2,vars:2,consts:[["class","container ","id","orderForm",4,"ngIf"],["class","container text-center d-none","id","thanksgiving",4,"ngIf"],["id","orderForm",1,"container"],[1,"mx-auto","col-lg-6"],[1,"text-center","m-5"],["novalidate","",3,"formGroup"],[1,"row"],[1,"mb-3","col-4"],["for","nameForm",1,"form-label"],["type","text","id","nameForm","name","nameForm","formControlName","name","required","",1,"form-control"],[4,"ngIf"],["for","surnameForm",1,"form-label"],["type","text","id","surnameForm","name","lastnameForm","formControlName","lastname","required","",1,"form-control"],["for","numberForm",1,"form-label"],["type","text","id","numberForm","name","phoneForm","formControlName","phone","required","",1,"form-control"],["type","text","id","productForm","name","productTitleForm","formControlName","productTitle",1,"form-control"],[1,"mb-3","col-8"],["type","text","id","commentForm","name","commentForm","formControlName","comment",1,"form-control"],[1,"mb-3","col-6"],["for","contryForm",1,"form-label"],["type","text","id","contryForm","name","countryForm","formControlName","country","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","indexForm",1,"form-label"],["type","text","id","indexForm","maxlength","6","name","zipForm","formControlName","zip","required","",1,"form-control"],[1,"mb-3","col-12"],["for","adressForm",1,"form-label"],["type","text","id","adressForm","name","addressForm","formControlName","address","required","",1,"form-control"],[1,"order-button","d-flex","justify-content-sm-between","align-items-center"],["id","submBtn",1,"btn","btn-primary","mt-3","col-sm-3",3,"click"],["class","text-danger",4,"ngIf"],[1,"invalid-feedback"],[1,"text-danger"],["id","thanksgiving",1,"container","text-center","d-none"],[1,"my-5"]],template:function(r,n){1&r&&(u.YNc(0,z,48,8,"div",0),u.YNc(1,Q,3,0,"div",1)),2&r&&(u.Q6J("ngIf",!n.completeOrder),u.xp6(1),u.Q6J("ngIf",n.completeOrder))},dependencies:[_.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.nD,o.sg,o.u],styles:["input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}input.ng-invalid.ng-dirty[_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}#thanksgiving[_ngcontent-%COMP%]{display:block!important}.order-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;max-width:177px}"]}),l})()}];let g=(()=>{var e;class l{}return(e=l).\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[p.Bz.forChild(M),p.Bz]}),l})();var k=d(6208);let B=(()=>{var e;class l{}return(e=l).\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[_.ez,k.m,g,o.UX,g]}),l})()}}]);